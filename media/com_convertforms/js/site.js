function _createForOfIteratorHelperLoose(e,t){var r,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _regeneratorRuntime(){var o=_regenerator(),e=o.m(_regeneratorRuntime),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function a(e){e="function"==typeof e&&e.constructor;return!!e&&(e===t||"GeneratorFunction"===(e.displayName||e.name))}var r={throw:1,return:2,break:3,continue:3};function i(e){var o,a;return function(n){o||(o={stop:function(){return a(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return a(n.a,r[e],t)},delegateYield:function(e,t,r){return o.resultName=t,a(n.d,_regeneratorValues(e),r)},finish:function(e){return a(n.f,e)}},a=function(e,t,r){n.p=o.prev,n.n=o.next;try{return e(t,r)}finally{o.next=n.n}}),o.resultName&&(o[o.resultName]=n.v,o.resultName=void 0),o.sent=n.v,o.next=n.n;try{return e.call(this,o)}finally{n.p=o.prev,n.n=o.next}}}return(_regeneratorRuntime=function(){return{wrap:function(e,t,r,n){return o.w(i(e),t,r,n&&n.reverse())},isGeneratorFunction:a,mark:o.m,awrap:function(e,t){return new _OverloadYield(e,t)},AsyncIterator:_regeneratorAsyncIterator,async:function(e,t,r,n,o){return(a(t)?_regeneratorAsyncGen:_regeneratorAsync)(i(e),t,r,n,o)},keys:_regeneratorKeys,values:_regeneratorValues}})()}function _regeneratorValues(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}}}throw new TypeError(typeof e+" is not iterable")}function _regeneratorKeys(e){var t,r=Object(e),n=[];for(t in r)n.unshift(t);return function e(){for(;n.length;)if((t=n.pop())in r)return e.value=t,e.done=!1,e;return e.done=!0,e}}function _regeneratorAsync(e,t,r,n,o){var a=_regeneratorAsyncGen(e,t,r,n,o);return a.next().then(function(e){return e.done?e.value:a.next()})}function _regeneratorAsyncGen(e,t,r,n,o){return new _regeneratorAsyncIterator(_regenerator().w(e,t,r,n),o||Promise)}function _regeneratorAsyncIterator(c,u){var o;this.next||(_regeneratorDefine2(_regeneratorAsyncIterator.prototype),_regeneratorDefine2(_regeneratorAsyncIterator.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),_regeneratorDefine2(this,"_invoke",function(r,e,n){function t(){return new u(function(e,t){!function t(e,r,n,o){try{var a=c[e](r),i=a.value;return i instanceof _OverloadYield?u.resolve(i.v).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(i).then(function(e){a.value=e,n(a)},function(e){return t("throw",e,n,o)})}catch(e){o(e)}}(r,n,e,t)})}return o=o?o.then(t,t):t()},!0)}function _regenerator(){var m,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",r=e.toStringTag||"@@toStringTag";function n(e,t,r,n){var o,a,i,c,u,s,l,f,d,t=t&&t.prototype instanceof y?t:y,t=Object.create(t.prototype);return _regeneratorDefine2(t,"_invoke",(o=e,a=r,l=n||[],f=!1,d={p:s=0,n:0,v:m,a:p,f:p.bind(m,4),d:function(e,t){return i=e,c=0,u=m,d.n=t,v}},function(e,t,r){if(1<s)throw TypeError("Generator is already running");for(f&&1===t&&p(t,r),c=t,u=r;(h=c<2?m:u)||!f;){i||(c?c<3?(1<c&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,i){if(h=i[e=c?e:"next"]){if(!(h=h.call(i,u)))throw TypeError("iterator result is not an object");if(!h.done)return h;u=h.value,c<2&&(c=0)}else 1===c&&(h=i.return)&&h.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+e+"' method"),c=1);i=m}else if((h=(f=d.n<0)?u:o.call(a,d))!==v)break}catch(e){i=m,c=1,u=e}finally{s=1}}return{value:h,done:f}}),!0),t;function p(e,t){for(c=e,u=t,h=0;!f&&s&&!r&&h<l.length;h++){var r,n=l[h],o=d.p,a=n[2];3<e?(r=a===t)&&(u=n[(c=n[4])?5:c=3],n[4]=n[5]=m):n[0]<=o&&((r=e<2&&o<n[1])?(c=0,d.v=t,d.n=n[1]):o<a&&(r=e<3||t<n[0]||a<t)&&(n[4]=e,n[5]=t,d.n=a,c=0))}if(r||1<e)return v;throw f=!0,t}}var v={};function y(){}function o(){}function a(){}var h=Object.getPrototypeOf,e=[][t]?h(h([][t]())):(_regeneratorDefine2(h={},t,function(){return this}),h),i=a.prototype=y.prototype=Object.create(e);function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,_regeneratorDefine2(e,r,"GeneratorFunction")),e.prototype=Object.create(i),e}return _regeneratorDefine2(i,"constructor",o.prototype=a),_regeneratorDefine2(a,"constructor",o),_regeneratorDefine2(a,r,o.displayName="GeneratorFunction"),_regeneratorDefine2(i),_regeneratorDefine2(i,r,"Generator"),_regeneratorDefine2(i,t,function(){return this}),_regeneratorDefine2(i,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:n,m:c}})()}function _regeneratorDefine2(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(_regeneratorDefine2=function(e,t,r,n){t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:((n=function(t,r){_regeneratorDefine2(e,t,function(e){return this._invoke(t,r,e)})})("next",0),n("throw",1),n("return",2))})(e,t,r,n)}function _OverloadYield(e,t){this.v=e,this.k=t}function asyncGeneratorStep(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(c){return function(){var e=this,i=arguments;return new Promise(function(t,r){var n=c.apply(e,i);function o(e){asyncGeneratorStep(n,t,r,o,a,"next",e)}function a(e){asyncGeneratorStep(n,t,r,o,a,"throw",e)}o(void 0)})}}function _createForOfIteratorHelperLoose(e,t){var r,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}!function(n,o){var a=null,i={getOption:function(e,t){t=void 0===t?"":t;var r=this.getJoomlaOption("com_convertforms");return r&&void 0!==r[e]?r[e]:t},text:function(e,t){t=void 0===t?"":t;var r=this.getJoomlaOption("joomla.jtext");return void 0!==r[e]?r[e]:t},getJoomlaOption:function(e,t){if(!a){var r=o.querySelector(".joomla-script-options");if(!r)return;a=JSON.parse(r.text||r.textContent)}return void 0!==a[e]?a[e]:t},getCSRFToken:function(){return this.getJoomlaOption("csrf.token")},getBaseURL:function(e){var t=this.getOption("baseURL","/index.php?option=com_convertforms");return e&&void 0!==e&&(t=t+(-1<t.indexOf("?")?"&":"?")+e),this.emitEvent("ConvertFormsGetBaseURL",o,{url:t}).detail.url},getFormData:function(e){for(var t=new FormData(e),r=new FormData,n=_createForOfIteratorHelperLoose(t);!(o=n()).done;){var o=o.value,a=o[0],o=o[1],i=e.querySelector('.cf-input[name="'+a+'"]');i&&i.closest(".cf-control-group.cf-ignore")||r.append(a,o)}return r},serializeFormData:function(e){for(var t=[],r=_createForOfIteratorHelperLoose(e.entries());!(o=r()).done;){var n,o=o.value,a=o[0],o=o[1];-1<a.indexOf("cf[")&&(a=(n=a.match(/cf\[(.*?)\](.*)/))[1]+n[2]),t.push(encodeURIComponent(a)+"="+encodeURIComponent(o))}return t.join("&")},isInViewport:function(e){e=e.getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom<=(n.innerHeight||o.documentElement.clientHeight)&&e.right<=(n.innerWidth||o.documentElement.clientWidth)},emitEvent:function(e,t,r){e=new CustomEvent(e,{detail:r,cancelable:!0});return t.dispatchEvent(e),e},request:function(t){t=i.extend({url:"",method:"POST",headers:null,data:null,onSuccess:null,onError:null,onFail:null},t);try{var r=new XMLHttpRequest;if(r.open(t.method,t.url,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("X-Ajax-Engine","Convert Forms!"),t.headers)for(var e in t.headers)t.headers.hasOwnProperty(e)&&r.setRequestHeader(e,t.headers[e]);if(r.onload=function(){4===r.readyState&&(200===r.status?t.onSuccess&&t.onSuccess.call(n,r.responseText,r):t.onError&&t.onError.call(n,r.responseText,r),t.onComplete)&&t.onComplete.call(n,r)},t.onBefore&&!1===t.onBefore.call(n,r))return r;r.send(t.data)}catch(e){return t.onFail&&t.onFail.call(n,e,r),console.error(e),!1}return r},extend:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},capitalize:function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},browserIsIE:function(){var e=n.navigator.userAgent,t=e.indexOf("MSIE "),e=e.indexOf("Trident/");return 0<t||0<e},loadScript:function(e,t){var r=o.head,n=o.createElement("script");n.type="text/javascript",n.src=e,n.onreadystatechange=t,n.onload=t,r.appendChild(n)},onReady:function(e){"loading"!=o.readyState?e(o.querySelectorAll("div.convertforms")):o.addEventListener("DOMContentLoaded",function(){e(o.querySelectorAll("div.convertforms"))})},toggleCheck:function(e,t){var r;e&&(r=!1,!e.checked&&t&&(r=e.checked=!0),r=e.checked&&!t?!(e.checked=!1):r)&&i.emitChange(e)},setValue:function(e,t){e.value!=t&&(e.value=t,e.value===t)&&i.emitChange(e)},emitChange:function(e){e.dispatchEvent(new Event("change",{bubbles:!0}))}};n.ConvertForms=n.ConvertForms||[],n.ConvertForms.Helper=i}(window,document),function(f,d){function n(n){var u={selector:n,extraData:{}},s=f.ConvertForms.Helper,l=n.querySelector("form");u.setSubmissionData=function(e,t){u.extraData[e]=t},u.getSubmissionData=function(e){if(e in u.extraData)return u.extraData[e]},u.getFormData=function(){var e,t=s.getFormData(l),r=(t.set("forward_context",JSON.stringify(s.getOption("forward_context"))),Object.keys(u.extraData).length&&t.set("env",JSON.stringify(u.extraData)),[]);return n.querySelectorAll(".cf-control-group.cf-ignore").forEach(function(e){r.push(e.dataset.key)}),r.length&&(e={ignore:r},Object.keys(e).length)&&t.set("overrides",JSON.stringify(e)),t},u.submit=function(){var e;n.classList.contains("cf-working")||((e=u.emitEvent("beforeSubmit")).defaultPrevented?e.detail.hasOwnProperty("error")&&u.throwError(e.detail.error):s.request({url:s.getBaseURL("task=submit"),headers:{"X-CSRF-Token":s.getCSRFToken()},data:u.getFormData(),onBefore:function(){n.classList.add("cf-working"),n.classList.add("cf-disabled"),n.classList.remove("cf-error"),n.classList.remove("cf-success"),n.querySelector(".cf-response").removeAttribute("role")},onSuccess:function(t,e){try{t=JSON.parse(t)}catch(e){var r=t.match('{"convertforms"(.*?)}$');if(null==r)return void u.throwError(u.text("INVALID_RESPONSE")+": "+t);t=JSON.parse(r[0])}t.success?(u.emitEvent("success",{response:t,xhr:e}),r="formTask"+s.capitalize(t.task),u.hasOwnProperty(r)?(u[r].call(f,t),u.emitEvent("afterTask",{response:t,xhr:e,task:t.task})):u.throwError(u.text("INVALID_TASK")+": "+r)):(u.emitEvent("error",{response:t,xhr:e}),u.throwError(t.error),(r=n.querySelector(".cf-fields .cf-input"))&&r.focus())},onComplete:function(e){u.emitEvent("afterSubmit",{xhr:e}),n.classList.remove("cf-working","cf-disabled"),s.isInViewport(n)||n.scrollIntoView()},onError:function(e,t){u.throwError("Error: "+e)},onFail:function(e,t){u.throwError("Fail: "+e)}}))},u.emitEvent=function(e,t,r){if(e)return(t=t||{}).instance=u,(r=r||!0)&&(r="ConvertForms"+s.capitalize(e),s.emitEvent(r,d,t)),s.emitEvent(e,n,t)},u.formTaskMsg=function(e){n.classList.add("cf-success"),n.querySelector(".cf-response").innerHTML=e.value,"1"==e.resetform&&u.onResetForm()},u.onResetForm=function(){l.reset(),l.querySelectorAll(".tf-phone-control--flag--selector").forEach(function(e){e.phonecontrol.reset()}),l.querySelectorAll(".nrf-rating-wrapper").forEach(function(e){e.querySelectorAll("input").forEach(function(e){e.checked=!1,e.nextElementSibling.classList.remove("iconFilled")})})},u.formTaskUrl=function(e){var t=e.value;if("2"!==e.passdata&&("1"==e.passdata&&(r=s.getFormData(l),r=s.serializeFormData(r),t+=(-1<e.value.indexOf("?")?"&":"?")+r),r=u.emitEvent("beforeRedirectUser",{url:t,target:"_self"}),f.open(r.detail.url,r.detail.target)),"2"==e.passdata){var r=u.emitEvent("beforeRedirectUser",{url:t}),n=d.createElement("form");n.action=r.detail.url,n.method="POST",n.style="display:none; position:absolute; top:-100000px; left:-100000px";for(var o=_createForOfIteratorHelperLoose(s.getFormData(l).entries());!(i=o()).done;){var a,i=i.value,c=i[0],i=i[1];-1<c.indexOf("cf[")&&(a=-1<c.indexOf("[]"),c=c.match(/cf\[(.*?)\]/)[1],a&&(c+="[]"),(a=d.createElement("input")).type="hidden",a.name=c,a.value=i,n.appendChild(a))}d.body.appendChild(n),n.submit()}},u.throwError=function(e){n.classList.add("cf-error");var t=n.querySelector(".cf-response");t.innerHTML=e,t.setAttribute("role","alert")},u.text=function(e){return ConvertForms.Helper.text("COM_CONVERTFORMS_"+e)},function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.classList.contains("cf-init"))return e.abrupt("return");e.next=2;break;case 2:f.IntersectionObserver&&new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(u.emitEvent("impression",{entry:e}),t.unobserve(e.target))})},{rootMargin:"0px 0px 0px 0px"}).observe(n),l.addEventListener("submit",function(e){e.preventDefault(),u.submit(e)}),n.classList.add("cf-init"),u.emitEvent("display");case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),n.ConvertForms=u}f.ConvertForms=f.ConvertForms||[];var o=f.ConvertForms.Helper;o.onReady(function(){for(var e=d.querySelectorAll(".convertforms.cf"),t=0;t<e.length;t++){var r=e[t];n(r)}o.emitEvent("ConvertFormsInit",d,e)})}(window,document),function(a){a.addEventListener("ConvertFormsDisplay",function(e){var t,r,n,e=e.detail.instance,o=e.selector;void 0!==o.dataset.cfHp&&(t=(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ").charAt(Math.floor(Math.random()*t.length))+Math.random().toString(36).substring(2,9),r=Math.floor(9*Math.random()+1)+" + "+Math.floor(9*Math.random()+1),a.querySelector('style[data-id="'+t+'"]')||((n=a.createElement("style")).setAttribute("data-id",t),n.innerHTML="label."+t+", input[type=text]."+t+" { display: none !important; }",a.head.appendChild(n)),(n=a.createElement("label")).setAttribute("for",t),n.className=t,n.textContent=r,o.querySelector("form").appendChild(n),(n=a.createElement("input")).type="text",n.name=t,n.id=t,n.placeholder=r,n.className="cf-input "+t,n.setAttribute("tabindex","-1"),o.querySelector("form").appendChild(n),e.setSubmissionData("hp",t))})}((window,document)),window,document.addEventListener("ConvertFormsDisplay",function(e){var t,r=e.detail.instance,e=r.selector;void 0!==e.dataset.cfTts&&(t=getCurrentTimestamp(),r.setSubmissionData("tts",t),e.addEventListener("afterSubmit",function(){t=getCurrentTimestamp(),r.setSubmissionData("tts",t)}))}),getCurrentTimestamp=function(){return Math.floor(Date.now()/1e3)};

